/* --- CSS Variables (Modern Theming) --- */
:root {
    --background-color: #121212;
    --surface-color: #1e1e1e;
    --primary-color: #28a745;
    --primary-variant-color: #218838;
    --text-primary: #f0f0f0;
    --text-secondary: #a0a0a0;
    --success-color: #2ecc71;
    --border-color: #333333;
}

/* --- Global Styles & Reset --- */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', sans-serif;
    background-color: var(--background-color);
    color: var(--text-primary);
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

.container {
    width: 100%;
    max-width: 500px;
    margin: 0 auto;
    padding: 20px;
}

/* --- Header --- */
.header {
    text-align: center;
    padding: 2rem 0 1rem 0;
}

.header h1 {
    font-size: 2rem;
    font-weight: 700;
    color: var(--text-primary);
}

.header p {
    font-size: 1rem;
    color: var(--text-secondary);
}

/* --- Generator Card --- */
.generator-card {
    background-color: var(--surface-color);
    border-radius: 12px;
    padding: 2rem;
    border: 1px solid var(--border-color);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
}

.form-group {
    margin-bottom: 1.5rem;
}

.form-group label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 600;
    color: var(--text-secondary);
}

select {
    width: 100%;
    padding: 0.8rem 1rem;
    background-color: #2a2a2a;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    color: var(--text-primary);
    font-size: 1rem;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23a0a0a0' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708 .708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 1rem center;
}

/* --- Output Area --- */
.output-container {
    margin-top: 2rem;
}

#uaOutput {
    background-color: #101010;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 1rem;
    font-family: 'Courier New', Courier, monospace;
    font-size: 0.9rem;
    color: var(--text-secondary);
    word-wrap: break-word;
    min-height: 100px;
    line-height: 1.5;
    transition: color 0.3s ease;
}

#uaOutput.generated {
    color: var(--text-primary);
}

/* --- Buttons --- */
.btn {
    width: 100%;
    padding: 0.9rem 1.5rem;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 600;
    transition: all 0.2s ease;
    margin-bottom: 0.75rem;
}

.btn:last-child {
    margin-bottom: 0;
}

.btn-primary {
    background-color: var(--primary-color);
    color: #fff;
}

.btn-primary:hover {
    background-color: var(--primary-variant-color);
}

.btn-secondary {
    background-color: transparent;
    color: var(--primary-color);
    border: 1px solid var(--primary-color);
}

.btn-secondary:hover {
    background-color: rgba(40, 167, 69, 0.1);
}

.copy-feedback {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background-color: var(--success-color);
    color: #fff;
    padding: 0.8rem 1.5rem;
    border-radius: 8px;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.5s ease, visibility 0.5s ease;
    z-index: 1000;
}

.copy-feedback.show {
    opacity: 1;
    visibility: visible;
}

/* --- Footer --- */
.footer {
    text-align: center;
    padding: 2rem 0;
    color: var(--text-secondary);
    font-size: 0.9rem;
    margin-top: auto;
}```

---

### File 2: `script.js` (Satu Blok Penuh)

Salin semua kode JavaScript ini ke dalam file `script.js` Anda.

```javascript
document.addEventListener('DOMContentLoaded', () => {
    // --- Referensi Elemen DOM ---
    const osSelect = document.getElementById('osSelect');
    const deviceSelect = document.getElementById('deviceSelect');
    const generateBtn = document.getElementById('generateBtn');
    const copyBtn = document.getElementById('copyBtn');
    const uaOutput = document.getElementById('uaOutput');
    const copyFeedback = document.getElementById('copyFeedback');
    
    // --- MEMORI UNTUK MENYIMPAN HISTORY ---
    const generatedHistory = new Set();

    // --- DATABASE PERANGKAT DENGAN GENERATOR DINAMIS ---
    const uaDatabase = {
        "Android": {
            template: "Mozilla/5.0 (Linux; Android {android_version}; {model}) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/{chrome_version} Mobile Safari/537.36",
            devices: [
                { name: "Samsung (Seri S)", generator: "samsungS" },
                { name: "Samsung (Seri A)", generator: "samsungA" },
                { name: "Samsung (Seri Z Fold/Flip)", generator: "samsungF" },
                { name: "Google Pixel", generator: "pixel" },
                { name: "Xiaomi/Redmi/Poco", generator: "xiaomi" },
                { name: "OnePlus/Oppo/Realme", generator: "oppo" },
                { name: "Sony Xperia", generator: "sonyXperia" },
                { name: "ASUS ROG/Zenfone", generator: "asusROG" },
                { name: "Motorola Edge/Razr", generator: "motorola" }
            ]
        },
        "iOS (iPhone)": {
            template: "Mozilla/5.0 (iPhone; CPU iPhone OS {ios_version} like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/{safari_version} Mobile/{ios_build} Safari/604.1",
            devices: [
                { name: "iPhone (High-End)", generator: "iphoneHigh" },
                { name: "iPhone (Standard)", generator: "iphoneMid" },
                { name: "iPhone (SE)", generator: "iphoneSE" }
            ]
        },
        "iPadOS (iPad)": {
            template: "Mozilla/5.0 (iPad; CPU OS {ios_version} like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/{safari_version} Mobile/{ios_build} Safari/604.1",
            devices: [
                 { name: "iPad Pro", generator: "ipadPro" },
                 { name: "iPad Air", generator: "ipadAir" },
                 { name: "iPad (Standard)", generator: "ipadStandard" }
            ]
        }
    };

    // --- KUMPULAN FUNGSI GENERATOR ---
    const getRandomInt = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;
    const getRandomLetter = () => 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'[getRandomInt(0, 25)];

    const dynamicGenerators = {
        // Android Model Generators
        samsungS: () => `SM-S9${getRandomInt(10, 99)}${getRandomLetter()}`,
        samsungA: () => `SM-A${getRandomInt(10, 99)}6${getRandomLetter()}`,
        samsungF: () => `SM-F${getRandomInt(7, 9)}3${getRandomInt(1, 9)}${getRandomLetter()}`,
        pixel: () => `Pixel ${getRandomInt(7, 9)}${['', ' Pro', 'a'][getRandomInt(0,2)]}`,
        xiaomi: () => `${getRandomInt(21, 23)}${getRandomInt(10,12)}${getRandomLetter()}${getRandomLetter()}${getRandomLetter()}${getRandomInt(1,9)}G`,
        oppo: () => `CPH${getRandomInt(2000, 2600)}`,
        sonyXperia: () => `XQ-${getRandomLetter()}${getRandomLetter()}${getRandomInt(10, 99)}`,
        asusROG: () => `AI${getRandomInt(22, 23)}0${getRandomInt(1, 5)}-${getRandomLetter()}`,
        motorola: () => `XT${getRandomInt(2100, 2400)}-${getRandomInt(1, 5)}`,
        
        // iOS Model Generators
        iphoneHigh: () => `iPhone${getRandomInt(15,16)},${getRandomInt(1,3)}`,
        iphoneMid: () => `iPhone${getRandomInt(14,15)},${getRandomInt(4,8)}`,
        iphoneSE: () => `iPhone14,6`,
        ipadPro: () => `iPad${getRandomInt(13, 14)},${getRandomInt(8, 11)}`,
        ipadAir: () => `iPad13,${getRandomInt(1, 2)}`,
        ipadStandard: () => `iPad${getRandomInt(12, 13)},${getRandomInt(1, 7)}`,

        // Component Generators
        chromeVersion: () => `${getRandomInt(115, 120)}.0.${getRandomInt(5000, 6100)}.${getRandomInt(1, 199)}`,
        safariVersion: () => `${getRandomInt(15, 17)}.${getRandomInt(1, 6)}`,
        iosBuild: () => `${getRandomInt(15, 21)}${getRandomLetter()}${getRandomInt(100, 500)}`,
        androidVersion: () => `${getRandomInt(12, 14)}`,
        iosVersion: () => `${getRandomInt(15, 17)}_${getRandomInt(0, 6)}_${getRandomInt(0, 2)}`
    };

    // --- FUNGSI UTAMA ---
    const populateDeviceSelect = (os) => {
        deviceSelect.innerHTML = '';
        uaDatabase[os].devices.forEach(device => {
            const option = document.createElement('option');
            option.value = device.name;
            option.textContent = device.name;
            deviceSelect.appendChild(option);
        });
    };

    const generateUserAgent = () => {
        const selectedOS = osSelect.value;
        const selectedDeviceName = deviceSelect.value;
        const deviceData = uaDatabase[selectedOS].devices.find(d => d.name === selectedDeviceName);
        if (!deviceData) return;

        let finalUA;
        let attempts = 0;

        // --- LOOP ANTI-DUPLIKAT ---
        do {
            const template = uaDatabase[selectedOS].template;
            const modelGenerator = dynamicGenerators[deviceData.generator];
            const model = modelGenerator ? modelGenerator() : 'Unknown';

            if (selectedOS === "Android") {
                finalUA = template
                    .replace("{android_version}", dynamicGenerators.androidVersion())
                    .replace("{model}", model)
                    .replace("{chrome_version}", dynamicGenerators.chromeVersion());
            } else if (selectedOS === "iOS (iPhone)" || selectedOS === "iPadOS (iPad)") {
                finalUA = template
                    .replace(/{ios_version}/g, dynamicGenerators.iosVersion())
                    .replace(/{safari_version}/g, dynamicGenerators.safariVersion())
                    .replace(/{ios_build}/g, dynamicGenerators.iosBuild());
            }
            attempts++;
            if (attempts > 50) {
                finalUA = "Gagal menghasilkan UA unik, silakan coba lagi.";
                break;
            }
        } while (generatedHistory.has(finalUA));

        generatedHistory.add(finalUA);
        
        uaOutput.textContent = finalUA;
        uaOutput.classList.add('generated');
        console.log(`Total UA Unik Dihasilkan: ${generatedHistory.size}`);
    };

    const copyToClipboard = () => {
        if (!uaOutput.classList.contains('generated')) return;
        navigator.clipboard.writeText(uaOutput.textContent).then(() => {
            copyFeedback.classList.add('show');
            setTimeout(() => copyFeedback.classList.remove('show'), 2000);
        });
    };
    
    // --- INISIALISASI & EVENT LISTENERS ---
    const osList = Object.keys(uaDatabase);
    osList.forEach(os => {
        const option = document.createElement('option');
        option.value = os;
        option.textContent = os;
        osSelect.appendChild(option);
    });
    populateDeviceSelect(osList[0]);

    osSelect.addEventListener('change', (e) => populateDeviceSelect(e.target.value));
    generateBtn.addEventListener('click', generateUserAgent);
    copyBtn.addEventListener('click', copyToClipboard);
});
